<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
	<title>Emotion Hierarchy LLMs</title>
        <script src="https://d3js.org/d3.v3.min.js"></script>
    <style>
        .node circle {
            stroke: #000;
            stroke-width: 1.5px;
        }
        .node text {
            pointer-events: none;
            font-size: 10px;
            fill: #333;
        }
        .link {
            stroke: #999;
            stroke-opacity: 0.6;
        }
.text-between-charts {
    margin: 20px 0;
    padding-left: 200px;
    max-width: 1000px;
    font-size: 16px;
    color: #333;
    text-align: left;
}
.bold-text {
    font-weight: bold;
}

    </style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
	<link href='https://fonts.googleapis.com/css?family=Oswald:400,300,700' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="body">
    <h1>Hierarchical Representation of Emotions</h1>
             <div class="text-between-charts">
               <p> <span class="bold-text"> With scale, LLMs develop more complex hierarchical representations of emotions, with groupings that align with established psychological models. </span> Hierarchies of emotions in four different models are extracted using 5000 situational prompts generated by GPT-4o. 
You can select one of four models from the dropdown menu: GPT-2 (1.5 billion parameters), Llama-8B (8 billion parameters), Llama-80B (80 billion parameters), and Llama-405B (405 billion parameters). As model size increases, more complex hierarchical structures emerge. Each node represents an emotion and is colored according to groups of emotions known to be related. The grouping of emotions by LLMs aligns closely with well-established psychological frameworks, as indicated by the consistent color patterns for emotions with shared parent nodes. </p>
             </div>
            <div class="custom-select-wrapper">
                <div class="custom-select">
                    <select id="treeSelector"></select>
                </div>
            </div>
            <div id="chart0"></div>

    <h1>Bias in Emotion Recognition</h1>
             <div class="text-between-charts"> <p> Building on our understanding of emotion representations in LLMs, we examine whether these representations and their resulting emotion predictions are influenced by demographic attributes such as gender and socioeconomic status. The charts show which emotions are being misclassified as others for different personas. You can hover over an emotion to see which ones have been incorrectly labeled as that emotion.  
             </p>
    <h2>Here's some interesting findings:</h2>
    <ul>
        <li>
            By selecting <strong>"Physically-disabled"</strong>, 1/4 of emotions are recognized as frustration. This is a significant bias.
        </li>
        <li>
            By selecting <strong>"Asian"</strong>, you see many emotions, such as 'anger', are often miscategorized as anger for Asian personas. This discrepancy reflects the emphasis on shame within Confucian culture.
        </li>
        <li>
            By selecting <strong>"Low income"</strong>, you observe that low-income personas interpret surprise as a negative emotion. Llama-405B predicts surprise with 70% accuracy for neutral personas. However, for the low-income persona, some instances of surprise are mislabeled as negative emotions like sadness and fear. This mislabeling as fear becomes even more pronounced for the physically disabled persona.
        </li>
    </ul>
    </div>

            <div class="custom-select-wrapper">
                <div class="custom-select">
                    <select id="matrixSelector"></select>
                </div>
            </div>
            <div id="chart1"></div>

<div class="text-between-charts">
<p> To further investigate how LLM understands how each persona interprets emotions, we constructed tree graphs following the procedure described above. </p>
    <ul>
        <li>
         By selecting <strong>"ASD" (Autism Spectrum Disorder)</strong>, you'll notice that the tree graph significantly shrinks for the ASD persona compared to all other personas. This observation aligns with <a href="https://psycnet.apa.org/record/2013-31691-006">psychology research</a>. 
        </li>
    </ul>
    </div>

            <div class="custom-select-wrapper">
                <div class="custom-select">
                    <select id="treeSelector_persona"></select>
                </div>
            </div>
            <div id="chart2"></div>
    </div>

    <script src="tree_data.js"></script>
    <script src="tree_graph.js"></script>
    <script src="confusion_matrix.js"></script>
    <script src="chords.js"></script>
    <script src="tree_data_persona.js"></script>
    <script src="tree_graph_persona.js"></script>
   </body>
</html>
